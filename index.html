<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>What Drives Compositional Generalization in Visual Generative Models?</title>
  <meta name="description" content="Project page for 'What Drives Compositional Generalization in Visual Generative Models?' — a systematic study of how objectives and conditioning affect compositionality in image and video generation." />
  <meta property="og:title" content="What Drives Compositional Generalization in Visual Generative Models?" />
  <meta property="og:description" content="Continuous objectives + full conditioning drive robust compositionality; discrete categorical losses hinder it. JEPA-style auxiliary loss improves MaskGIT." />
  <meta property="og:image" content="figs/teaser.jpg" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 128 128'><text y='1em' font-size='96'>🧩</text></svg>">
  <style>
    /* ===== Base ===== */
    :root { --bg:#0b0c10; --text:#e5e7eb; --muted:#9ca3af; --card:#111317; --border:#1f2937; --accent:#60a5fa; --maxw:980px; }
    @media (prefers-color-scheme: light) {
      :root { --bg:#ffffff; --text:#111827; --card:#f8fafc; --border:#e5e7eb; --muted:#6b7280; }
    }
    * { box-sizing: border-box; }
    html, body { margin:0; padding:0; background:var(--bg); color:var(--text); font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,Apple Color Emoji,Noto Color Emoji; }
    a { color:var(--accent); text-decoration:none; } a:hover { text-decoration:underline; }
    img, video { max-width:100%; height:auto; display:block; }

    /* ===== Nav (RAE-ish) ===== */
    nav { position:sticky; top:0; z-index:50; background:rgba(11,12,16,0.85); backdrop-filter:blur(6px); border-bottom:1px solid var(--border); }
    nav .wrap { max-width:var(--maxw); margin:auto; padding:10px 16px; display:flex; align-items:center; justify-content:space-between; gap:14px; }
    nav .brand { font-weight:700; letter-spacing:.2px; color:var(--text); }
    nav .links { display:flex; gap:14px; font-size:.95rem; }

    /* ===== Header / Hero ===== */
    header { max-width:var(--maxw); margin:auto; padding:24px 24px 10px; }
    .hero { display:grid; grid-template-columns:1.2fr 1fr; gap:16px; align-items:center; }
    .authors, .affils { color:var(--muted); font-size:.95rem; }
    .badges { margin-top:12px; display:flex; flex-wrap:wrap; gap:8px; }
    .badge { display:inline-flex; align-items:center; gap:8px; background:#0f131a; border:1.5px solid #2a3442; border-radius:12px; padding:8px 14px; margin:6px 8px 0 0; box-shadow:0 2px 0 #0a0d12; font-weight:600; }
    .badge:hover { transform:translateY(-1px); box-shadow:0 4px 10px rgba(0,0,0,.25); }

    /* ===== Sections ===== */
    main { max-width:var(--maxw); margin:auto; padding:0 24px 50px; }
    section { margin-top:32px; background:var(--card); padding:20px; border-radius:12px; border:1px solid var(--border); }
    h1 { font-size:clamp(28px,4.2vw,42px); margin:0 0 8px; letter-spacing:-0.02em; }
    h2 { margin:0 0 12px; font-size:1.25rem; letter-spacing:-0.01em; }
    h3 { margin:0 0 6px; font-size:1.1rem; }
    h4 { margin:8px 0 6px; font-size:1.0rem; }
    .cap { color:var(--muted); font-size:.9rem; margin-top:6px; }
    .foot { text-align:center; color:var(--muted); font-size:.8rem; margin:36px 0; }

    /* ===== Tables ===== */
    table { width:100%; border-collapse:collapse; font-size:0.92rem; margin-top:10px; }
    th, td { border:1px solid var(--border); padding:6px 8px; text-align:center; }
    th { background:#1f2937; color:#d1d5db; }

    /* ===== Cards / Figures ===== */
    .fig-block { border:1px solid var(--border); border-radius:10px; padding:10px; background:#0d1117; }
    .grid-1 { display:grid; grid-template-columns:1fr; gap:14px; }
    .grid-2 { display:grid; grid-template-columns:1fr; gap:14px; }
    @media (min-width: 860px){ .grid-2 { grid-template-columns:1fr 1fr; } }

    /* ===== Findings (RAE-style boxes) ===== */
    .finding-box { border:1px solid var(--border); border-radius:12px; padding:18px; margin-top:24px; background:var(--card); }

    /* ===== Animated Figure Widget ===== */
    .anim-fig { border:1px solid var(--border); border-radius:12px; padding:12px; background:#0d1117; }
    .anim-viewport { position:relative; width:100%; overflow:hidden; border-radius:10px; }
    .anim-step { display:none; width:100%; height:auto; position:relative; opacity:0; transition:opacity 280ms ease; }
    .anim-step.active { display:block; opacity:1; }
    .anim-controls { display:flex; align-items:center; gap:10px; justify-content:center; padding:8px 6px 2px; flex-wrap:wrap; }
    .anim-btn { background:#0f131a; border:1.5px solid #2a3442; color:var(--text); padding:6px 10px; border-radius:8px; font-weight:600; cursor:pointer; box-shadow:0 2px 0 #0a0d12; }
    .anim-btn:hover { transform:translateY(-1px); box-shadow:0 4px 10px rgba(0,0,0,.25); }
    .anim-dots { display:flex; gap:8px; }
    .anim-dot { width:10px; height:10px; border-radius:50%; border:1.5px solid #2a3442; background:#0f131a; cursor:pointer; }
    .anim-dot.active { background:#60a5fa; border-color:#60a5fa; }
    .anim-step-label { color:var(--muted); font-size:.9rem; margin-left:6px; }
    @media (prefers-reduced-motion: reduce) { .anim-step { transition:none; } }

    /* Code block (BibTeX) */
    pre { background:#0b1220; color:#e2e8f0; border:1px solid #0b1730; border-radius:12px; padding:12px 14px; overflow:auto; font-size:13px; line-height:1.5; }
  </style>
</head>
<body id="top">
  <!-- Sticky Nav -->
  <nav>
    <div class="wrap">
      <a class="brand" href="#top">Compositionality</a>
      <div class="links">
        <a href="#overview">Overview</a>
        <a href="#results">Results</a>
        <a href="#findings">Findings</a>
        <a href="#bibtex">BibTeX</a>
        <a href="#contact">Contact</a>
      </div>
    </div>
  </nav>

  <!-- Hero -->
  <header id="overview">
    <div class="hero">
      <div>
        <h1>What Drives Compositional Generalization in Visual Generative Models?</h1>
        <div class="authors">Karim Farid · Rajat Sahay* · Yumna Ali Alnaggar* · Simon Schrodi · Volker Fischer · Cordelia Schmid · Thomas Brox</div>
        <div class="affils">University of Freiburg · Bosch Center for AI · Inria/ENS/PSL/CNRS <span style="margin-left:8px;color:var(--muted);font-size:.85rem;">*equal contribution</span></div>
        <div class="badges">
          <a class="badge" href="https://arxiv.org/abs/2510.03075">📄 arXiv</a>
          <a class="badge" href="https://arxiv.org/pdf/2510.03075.pdf">🧾 PDF</a>
          <a class="badge" href="#results">📊 Results</a>
          <a class="badge" href="#findings">🧩 Findings</a>
          <a class="badge" id="code" href="#">💻 Code (soon)</a>
        </div>
      </div>
      <div>
        <img src="figs/teaser.jpg" alt="Teaser of compositional generalization" />
      </div>
    </div>
  </header>

  <main>
    <!-- Abstract -->
    <section>
      <h2>Abstract</h2>
      <p>Compositional generalization—the ability to recombine known factors into novel configurations—is essential for reliable image and video generation. We conduct controlled experiments that vary (i) the <em>distribution type</em> optimized by the training objective (continuous vs. categorical), and (ii) the <em>information content</em> of the conditioning signal during training (full, quantized, or partially missing). Our findings are consistent across datasets and modalities: continuous objectives (DiT, MAR, GIVT) yield robust Level-2 compositionality; categorical objectives (MaskGIT) struggle. Full, precise conditioning during training is critical; a JEPA-style auxiliary loss improves discrete models.</p>
    </section>

    <!-- Results — CRA table -->
    <section id="results">
      <h2>Results — CRA Retrieval (CoVLA)</h2>
      <table>
        <tr><th>Novel Split</th><th>Model</th><th>Left</th><th>Straight</th><th>Right</th><th>Hit@1 (Target)</th></tr>
        <tr><td>Day→Right</td><td>DiT</td><td>0.19</td><td>0.06</td><td><b>0.47</b></td><td><b>0.47</b></td></tr>
        <tr><td>Day→Right</td><td>MaskGIT</td><td>0.38</td><td>0.11</td><td>0.18</td><td>0.18</td></tr>
        <tr><td>Night→Left</td><td>DiT</td><td><b>0.43</b></td><td>0.04</td><td>0.04</td><td><b>0.43</b></td></tr>
        <tr><td>Night→Left</td><td>MaskGIT</td><td>0.56</td><td>0.10</td><td>0.14</td><td>0.14</td></tr>
      </table>
      <div class="cap">CRA metric (V-JEPA2 features) for generated videos vs. real splits. Higher Hit@1 indicates stronger compositional alignment.</div>
    </section>

    <!-- =========================
         Findings (RAE-style)
         ========================= -->
    <section id="findings">
      <h2>Findings</h2>

      <!-- Finding 1 -->
      <div class="finding-box">
        <h3>Finding 1 — Continuous vs. Categorical Objectives</h3>
        <p class="cap">
          <strong>Generative models trained to model continuous distributions reliably exhibit strong compositionality,
          whereas models trained on discrete, categorical distributions do not.</strong>
          Tokenizer choice (VAE vs. VQ-VAE) is <em>not</em> the decisive factor.
        </p>

        <!-- Tokenizer Control (animated: VAE → arrows → VQ-VAE) -->
        <article style="margin-top:10px;">
          <h4>Tokenizer Control</h4>
          <p class="cap">DiT with VAE vs. VQ-VAE tokenizers.</p>

          <div id="fig-anim-1" class="anim-fig" data-dwell="1400">
            <div class="anim-viewport" aria-live="polite">
              <!-- Step 1: panel (a) — VAE tokenizer -->
              <img class="anim-step" data-step="0" src="figures/diffusion_vae.pdf" alt="(a) VAE tokenizer results with DiT" />
              <!-- Step 2: overlay arrows -->
              <svg class="anim-step" data-step="1" viewBox="0 0 1200 350" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Arrows from (a) to (b)">
                <defs>
                  <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                    <path d="M0,0 L0,6 L9,3 z" fill="currentColor"></path>
                  </marker>
                </defs>
                <g fill="none" stroke="currentColor" stroke-width="6">
                  <line x1="250" y1="175" x2="950" y2="175" marker-end="url(#arrow)"/>
                </g>
                <g font-family="system-ui, -apple-system, Segoe UI, Roboto" font-size="28" font-weight="700">
                  <text x="600" y="145" text-anchor="middle" fill="#ef4444">-- categorical discrete</text>
                  <text x="600" y="210" text-anchor="middle" fill="#16a34a">+ GMM continuous</text>
                </g>
              </svg>
              <!-- Step 3: panel (b) — VQ-VAE tokenizer -->
              <img class="anim-step" data-step="2" src="figures/diffusion_token.pdf" alt="(b) VQ-VAE tokenizer results with DiT" />
            </div>
            <div class="anim-controls">
              <button class="anim-btn" data-action="prev" aria-label="Previous step">◀︎ Prev</button>
              <div class="anim-dots" role="tablist" aria-label="Figure steps"></div>
              <button class="anim-btn" data-action="next" aria-label="Next step">Next ▶︎</button>
              <button class="anim-btn" data-action="toggle" aria-label="Play or pause" style="margin-left:8px;">▶︎ Play</button>
              <span class="anim-step-label" aria-hidden="true"></span>
            </div>
            <div class="cap">Tokenizer controls show similar trends; the objective type governs compositionality.</div>
          </div>
        </article>

        <!-- Objective Comparison (animated: MaskGIT → arrow → GIVT → arrow → MAR → arrow → DiT) -->
        <article style="margin-top:14px;">
          <h4>Objective Comparison (Shapes2D)</h4>
          <p class="cap">Sequential transformation from categorical to continuous objectives:
            (a) MaskGIT → (b) GIVT → (c) MAR → (d) DiT. Arrows annotate the change.</p>

          <div id="fig-anim-objectives" class="anim-fig" data-dwell="1500">
            <div class="anim-viewport" aria-live="polite">
              <!-- (a) MaskGIT (categorical) -->
              <img class="anim-step" data-step="0" src="figures/maskgit.pdf" alt="(a) MaskGIT — categorical objective" />
              <!-- (a)->(b) overlay -->
              <svg class="anim-step" data-step="1" viewBox="0 0 1200 350" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="MaskGIT to GIVT">
                <defs><marker id="arrow2" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto"><path d="M0,0 L0,6 L9,3 z" fill="currentColor"/></marker></defs>
                <g fill="none" stroke="currentColor" stroke-width="6"><line x1="250" y1="175" x2="950" y2="175" marker-end="url(#arrow2)"/></g>
                <g font-family="system-ui, -apple-system, Segoe UI, Roboto" font-size="28" font-weight="700">
                  <text x="600" y="145" text-anchor="middle" fill="#ef4444">-- categorical discrete</text>
                  <text x="600" y="210" text-anchor="middle" fill="#16a34a">+ GMM continuous</text>
                </g>
              </svg>
              <!-- (b) GIVT -->
              <img class="anim-step" data-step="2" src="figures/givt.pdf" alt="(b) GIVT — GMM continuous objective" />
              <!-- (b)->(c) overlay -->
              <svg class="anim-step" data-step="3" viewBox="0 0 1200 350" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="GIVT to MAR">
                <defs><marker id="arrow3" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto"><path d="M0,0 L0,6 L9,3 z" fill="currentColor"/></marker></defs>
                <g fill="none" stroke="currentColor" stroke-width="6"><line x1="250" y1="175" x2="950" y2="175" marker-end="url(#arrow3)"/></g>
                <g font-family="system-ui, -apple-system, Segoe UI, Roboto" font-size="28" font-weight="700">
                  <text x="600" y="145" text-anchor="middle" fill="#ef4444">-- GMM</text>
                  <text x="600" y="210" text-anchor="middle" fill="#16a34a">+ diffusion head per token</text>
                </g>
              </svg>
              <!-- (c) MAR -->
              <img class="anim-step" data-step="4" src="figures/mar_token_final.pdf" alt="(c) MAR — diffusion head per token" />
              <!-- (c)->(d) overlay -->
              <svg class="anim-step" data-step="5" viewBox="0 0 1200 350" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="MAR to DiT">
                <defs><marker id="arrow4" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto"><path d="M0,0 L0,6 L9,3 z" fill="currentColor"/></marker></defs>
                <g fill="none" stroke="currentColor" stroke-width="6"><line x1="250" y1="175" x2="950" y2="175" marker-end="url(#arrow4)"/></g>
                <g font-family="system-ui, -apple-system, Segoe UI, Roboto" font-size="28" font-weight="700">
                  <text x="600" y="145" text-anchor="middle" fill="#ef4444">-- masking</text>
                  <text x="600" y="210" text-anchor="middle" fill="#16a34a">+ diffusion on all tokens</text>
                </g>
              </svg>
              <!-- (d) DiT -->
              <img class="anim-step" data-step="6" src="figures/diffusion_token.pdf" alt="(d) DiT — diffusion on all tokens" />
            </div>

            <div class="anim-controls">
              <button class="anim-btn" data-action="prev" aria-label="Previous step">◀︎ Prev</button>
              <div class="anim-dots" role="tablist" aria-label="Figure steps"></div>
              <button class="anim-btn" data-action="next" aria-label="Next step">Next ▶︎</button>
              <button class="anim-btn" data-action="toggle" aria-label="Play or pause" style="margin-left:8px;">▶︎ Play</button>
              <span class="anim-step-label" aria-hidden="true"></span>
            </div>

            <div class="cap">
              <b>Compositional generalization on Shapes2D across objectives.</b>
              The decisive jump occurs at the categorical→continuous intervention.
              Color code: <span style="color:#60a5fa">blue</span>=train,
              <span style="color:#ec4899">pink</span>=Level-1,
              <span style="color:#ef4444">red</span>=Level-2.
            </div>
          </div>
        </article>
      </div>

      <!-- Finding 2 -->
      <div class="finding-box">
        <h3>Finding 2 — Importance of Full Conditioning Information</h3>
        <p class="cap">
          <strong>Compositional generalization decreases when the conditioning signal is quantized or incomplete, even if all factors are provided during generation.</strong>
        </p>

        <!-- Animated multi-panel sequence -->
        <div id="fig-anim-2" class="anim-fig" data-dwell="1600" style="margin-top:10px;">
          <div class="anim-viewport" aria-live="polite">
            <figure class="anim-step" data-step="0">
              <img src="figures/DiT_cont_label_sec_run.pdf" alt="Full vs secondary label runs" />
              <figcaption class="cap"><b>2a — Full vs. secondary label</b></figcaption>
            </figure>
            <figure class="anim-step" data-step="1">
              <img src="figures/diff_cont_dropout.pdf" alt="Effect of conditioning dropout" />
              <figcaption class="cap"><b>2b — Conditioning dropout</b></figcaption>
            </figure>
            <figure class="anim-step" data-step="2">
              <img src="figures/discrete_DiT_XAI3.pdf" alt="Discrete/quantized conditioning" />
              <figcaption class="cap"><b>2c — Discrete (quantized) conditioning</b></figcaption>
            </figure>
            <figure class="anim-step" data-step="3">
              <img src="figures/diffusion_real_dropout_avg_3seeds.pdf" alt="Averaged results across seeds for dropout" />
              <figcaption class="cap"><b>2d — Average over seeds</b></figcaption>
            </figure>
          </div>
          <div class="anim-controls">
            <button class="anim-btn" data-action="prev" aria-label="Previous panel">◀︎ Prev</button>
            <div class="anim-dots" role="tablist" aria-label="Figure panels"></div>
            <button class="anim-btn" data-action="next" aria-label="Next panel">Next ▶︎</button>
            <button class="anim-btn" data-action="toggle" aria-label="Play or pause" style="margin-left:8px;">▶︎ Play</button>
            <span class="anim-step-label" aria-hidden="true"></span>
          </div>
          <div class="cap">Less precise or missing labels during training impair recombination later.</div>
        </div>
      </div>

      <!-- Finding 3 -->
      <div class="finding-box">
        <h3>Finding 3 — JEPA Auxiliary Objective Helps Discrete Models</h3>
        <p class="cap">
          <strong>Augmenting categorical models (e.g., MaskGIT) with a JEPA-style continuous objective improves compositional generalization while preserving discrete sampling advantages.</strong>
        </p>
        <div class="fig-block" style="margin-top:10px;">
          <img src="figures/figure_jepa.drawio.pdf" alt="JEPA objective added to MaskGIT with stop-gradient" />
        </div>
      </div>

      <!-- Finding 4 -->
      <div class="finding-box">
        <h3>Finding 4 — Real-World Validation on CoVLA</h3>
        <p class="cap">
          <strong>Trends hold in real video: Orbis-DiT (continuous) generalizes compositionally on unseen day/night × turn splits, unlike Orbis-MaskGIT.</strong>
        </p>
        <div class="fig-block" style="margin-top:10px;">
          <img src="figures/orbis/orbis_50.png" alt="Qualitative CoVLA generations" />
        </div>
        <div class="cap">Qualitative examples on held-out compositions.</div>
      </div>
    </section>

    <!-- BibTeX -->
    <section id="bibtex">
      <h2>Cite</h2>
      <pre>@article{farid2025compositional,
  title   = {What Drives Compositional Generalization in Visual Generative Models?},
  author  = {Farid, Karim and Sahay, Rajat and Alnaggar, Yumna Ali and Schrodi, Simon and Fischer, Volker and Schmid, Cordelia and Brox, Thomas},
  journal = {arXiv preprint arXiv:2510.03075},
  year    = {2025},
  url     = {https://arxiv.org/abs/2510.03075}
}</pre>
    </section>

    <!-- Contact -->
    <section id="contact">
      <h2>Contact</h2>
      <p>📧 <a href="mailto:faridk@cs.uni-freiburg.de">faridk@cs.uni-freiburg.de</a></p>
    </section>

    <div class="foot">© 2025 The Authors — Static HTML. Place as <b>index.html</b> at repo root and enable GitHub Pages.</div>
  </main>

  <!-- Animated Figure Script (no dependencies) -->
  <script>
  (function(){
    function mountAnimFigure(rootId){
      const root = document.getElementById(rootId);
      if(!root) return;
      const steps = Array.from(root.querySelectorAll('.anim-step'));
      const dotsWrap = root.querySelector('.anim-dots');
      const btnPrev = root.querySelector('[data-action="prev"]');
      const btnNext = root.querySelector('[data-action="next"]');
      const btnToggle = root.querySelector('[data-action="toggle"]');
      const label = root.querySelector('.anim-step-label');
      const dwell = parseInt(root.getAttribute('data-dwell') || '1400', 10);

      let idx = 0, playing = false, timer = null;

      function set(i){
        idx = (i + steps.length) % steps.length;
        steps.forEach((el, k) => el.classList.toggle('active', k === idx));
        dotsWrap.querySelectorAll('.anim-dot').forEach((d, k) => d.classList.toggle('active', k === idx));
        if(label) label.textContent = `Step ${idx+1} / ${steps.length}`;
      }
      function next(){ set(idx + 1); }
      function prev(){ set(idx - 1); }
      function buildDots(){
        steps.forEach((_, k) => {
          const d = document.createElement('button');
          d.className = 'anim-dot';
          d.setAttribute('role','tab');
          d.setAttribute('aria-label', `Go to step ${k+1}`);
          d.addEventListener('click', ()=>{ pause(); set(k); });
          dotsWrap.appendChild(d);
        });
      }
      function play(){
        if (playing) return;
        playing = true; if(btnToggle) btnToggle.textContent = '⏸ Pause';
        timer = setInterval(next, dwell);
      }
      function pause(){
        playing = false; if(btnToggle) btnToggle.textContent = '▶︎ Play';
        if (timer) { clearInterval(timer); timer = null; }
      }
      function toggle(){ playing ? pause() : play(); }

      if(btnPrev) btnPrev.addEventListener('click', ()=>{ pause(); prev(); });
      if(btnNext) btnNext.addEventListener('click', ()=>{ pause(); next(); });
      if(btnToggle) btnToggle.addEventListener('click', toggle);

      buildDots(); set(0);
    }

    // Mount the animated figures
    mountAnimFigure('fig-anim-1');           // Tokenizer control
    mountAnimFigure('fig-anim-objectives');  // Objective comparison
    mountAnimFigure('fig-anim-2');           // Conditioning completeness
  })();
  </script>
</body>
</html>